<!doctype html>
<html lang="en">
    <head>
        <script>
            document.onkeydown = function (e) {
                if (event.keyCode == 123) {return false;}
                if (e.ctrlKey&&e.shiftKey && (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'i'.charCodeAt(0))) {
                    return false; }
                if (e.ctrlKey && e.shiftKey && (e.keyCode == 'C'.charCodeAt(0) || e.keyCode == 'c'.charCodeAt(0))) {
                    return false; }
                if (e.ctrlKey && e.shiftKey && (e.keyCode == 'J'.charCodeAt(0) || e.keyCode == 'j'.charCodeAt(0))) {
                    return false; }
                if (e.ctrlKey && (e.keyCode == 'U'.charCodeAt(0) || e.keyCode == 'u'.charCodeAt(0))) {
                    return false; }
                if (e.ctrlKey && (e.keyCode == 'S'.charCodeAt(0) || e.keyCode == 's'.charCodeAt(0))) {
                    return false; }
            }
        </script>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/back-code.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/agate.min.css">
        <title>DBMS 8</title>
    </head>
    <body style="background: #f0eeee;" oncontextmenu="return false" onkeydown="return false;" onmousedown="return false;">
        <div class="container">
            <!-- put the link of previous page... -->
            <button type="button" onclick="goBack()" class="btn btn-dark">Go Back</button>
            <h4 class="p-title">Program code</h4>
       
        <div style="font-size: .9em;line-height: 1.5em;margin-bottom: 10px;">
            <h6 style="color: red;">*
                <u>Please don't copy the code as it.</u>
            </h6>
            <div class="code-me">
                <p style="font-size: 16px;"><b>Prerequisite</b></p>
                    <pre class="language-SQL">
<code><span>mysql> CREATE DATABASE Practical8;</span>
<span>mysql>  USE Practical8;</span>
<span>mysql> CREATE TABLE Acc (AccNo INT, AccName VARCHAR(20), Balance INT);</span>
<span>mysql> INSERT INTO Acc VALUES
   -> (10,'Ram',10000), (11,'John',50000),
   -> (12,'Smith',5500), (13,'Cris',8000),
   -> (14,'Suresh',15000);	</span></code></div><br>  
            <h6 style="margin-bottom: 15px;">*
                <u>Tasks to be performed</u> :
            </h6>
            <div class="code-me">
                <p><b>1.</b>Task 1 (with Commit)</p>
                    <pre class="language-SQL">
<code><span> mysql> START  TRANSACTION;</span>
 <span>mysql> SAVEPOINT s1;</span>
 <span>mysql>  Update ACC SET Balance=Balance-5000 where AccNo=10;</span>
 <span>mysql>  Update ACC SET Balance=Balance+5000 where AccNo=14;</span>
 <span>mysql> commit;</span>
 <span>mysql> SELECT * FROM Acc;</span></code></pre>
            </div>
            <div class="code-me">
                <p><b>2.</b>Task 2 (with Rollback)</p>
                    <pre class="language-SQL">
<code><span> mysql> START  TRANSACTION;</span>
 <span>mysql> SAVEPOINT s2;</span>
 <span>mysql>  Update ACC SET Balance=Balance-2500 where AccNo=11;</span>
 <span>mysql>  Update ACC SET Balance=Balance+2500 where AccNo=12;</span>
 <span>mysql> ROLLBACK s2;</span>
 <span>mysql> SELECT * FROM Acc;</span></code></pre>
            </div>
            </div>
        </div>
            <br> <br> <br>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
            <script>hljs.highlightAll();</script>
            <script>
                function goBack() {
                    window.history.back();
                }
            </script>
    </body>
</html> 
