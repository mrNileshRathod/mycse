<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" >
        <link rel="stylesheet" href="../css/back_button.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/agate.min.css">
        <title>OS 7</title>
    </head>
    <body
        style="background: #f0eeee;"
        oncontextmenu="return false"
        onkeydown="return false;"
        onmousedown="return false;"
    >
        <div class="container">
            <!-- put the link of previous page... -->
            <button type="button" onclick="goBack()" class="btn btn-dark">Go Back</button>
            <h4 class="p-title">
                Program code
            </h4>
        </div>
        <div class="container">
            <!-- enter the code here (in code tag)dont give any extra spaces  -->
            <div style="font-size: .9em;line-height: 1.5em;margin-bottom: 10px;">
                <h6 style="margin-bottom: 30px;color: red;">
                    *
                    <u><b>Note : Please don't copy program as it</b></u>:
                </h6>
                <div class="code-me">
                   <pre>
<code class="language-cpp">
<span>#include&lt;bits/stdc++.h></span>
<span>using namespace std;</span>

<span>int nf,nb,bs[max],fs[max];</span>
<span>int alloc_block_no[max];</span>
<span>int temp[max],frag[max];</span>

<span>void init(){</span>
    <span>memset(alloc_block_no,-1,sizeof(alloc_block_no));</span>
    <span>memset(frag,-1,sizeof(frag));</span>
    <span>memcpy(temp,bs,sizeof(bs));</span>
<span>}</span>

<span>void display(){</span>
    <span>cout<<"\t\tFile_No: File_Size: Block_No: Block_Size: Fragment:"<<endl;</span>
    <span>for(int i=0;i&lt;nf;i++){</span>
        <span>cout<<"\t\t   "<&lt;i+1<<"\t   "&lt;&lt;fs[i]&lt;&lt;"\t\t";</span>
        <span>if(alloc_block_no[i]==-1)</span>
            <span>cout<<"l-1"<<"\t  "<<"-1"<<"\t    "<<"-1"<&lt;endl;</span>
        <span>else</span>
            <span>cout<&lt;alloc_block_no[i]+1<<"\t  "<&lt;bs[alloc_block_no[i]]<<"\t    "<&lt;frag[i]<&lt;endl;</span>
    <span>}</span>
<span>}</span>

<span>void fisrtFit(){</span>
    <span>init();</span>
    <span>for(int i=0;i&lt;nf;i++){</span>
        <span>for(int j=0;j&lt;nb;j++){</span>
            <span>if(fs[i]<=temp[j]){</span>
                <span>alloc_block_no[i] = j;</span>
                <span>temp[j] -= fs[i];</span>
                <span>frag[i] = temp[j];</span>
                <span>break;</span>	
            <span>}</span>
        <span>}	</span>
    <span>}</span>
    <span>display();</span>
<span>}</span>

<span>void bestFit(){</span>
    <span>init();</span>
    <span>for(int i=0;i<nf;i++){</span>
        <span>int f=-1;</span>
        <span>for(int j=0;j<nb;j++){</span>
            <span>if(temp[j]>=fs[i]){</span>
                <span>if(f==-1)</span>
                    <span>f = j;</span>
                <span>if(temp[f]>temp[j])</span>
                    <span>f = j;</span>
            <span>}</span>
        <span>}</span>
        <span>if(f != -1){</span>
            <span>alloc_block_no[i] = f;</span>
            <span>temp[f] -= fs[i];</span>
            <span>frag[i] = temp[f];</span>
        <span>}</span>
    <span>}</span>
    <span>display();</span>
<span>}</span>

<span>void worstFit(){</span>
    <span>init();</span>
    <span>for(int i=0;i&lt;nf;i++){</span>
        <span>int f=-1;</span>
        <span>for(int j=0;j&lt;nb;j++){</span>
            <span>if(temp[j]>=fs[i]){</span>
                <span>if(f==-1)</span>
                    <span>f = j;</span>
                <span>if(temp[f]<temp[j])</span>
                    <span>f = j;</span>
            <span>}</span>
        <span>}	</span>
        <span>if(f!=-1){</span>
            <span>alloc_block_no[i] = f;</span>
            <span>temp[f] -= fs[i];</span>
            <span>frag[i] = temp[f];</span>
        <span>}</span>
    <span>}</span>
    <span>display();</span>
<span>}</span>

<span>int main()</span>
<span>{</span>
    <span>cout<<"Enter the no of Blocks : ";</span>
    <span>cin>>nb;</span>

    <span>cout<<"\nEnter the size of each block : "<<endl;</span>
    <span>for(int i=0;i&lt;nb;i++){</span>
    <span>cout<<"Block "<&lt;i+1<<" : ";</span>
    <span>cin>>bs[i];</span>
    <span>}</span>

    <span>cout<<"\nEnter the no files : ";</span>
    <span>cin>>nf;</span>

    <span>cout<<"\nEnter the size of each file : "<<endl;</span>
    <span>for(int i=0;i&lt;nb;i++){</span>
    <span>cout<<"File "<&lt;i+1<<" : ";</span>
    <span>cin>>fs[i];</span>
    <span>}</span>

    <span>cout<<"\n\n\tFirst Fit :"<&lt;endl;</span>
    <span>fisrtFit();</span>

    <span>cout<<"\n\n\tBest Fit :"<&lt;endl;</span>
    <span>bestFit();</span>

    <span>cout<<"\n\n\tWorst Fit :"<&lt;endl;</span>
    <span>worstFit();</span>

    <span>return 0;</span>
<span>}</span>
</code></pre>
            </div>
            </div>
        </div>
        <br>
        <br>
        <br>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>
        <script>
            function goBack() {
                window.history.back();
            }
        </script>
    </body>
</html>
